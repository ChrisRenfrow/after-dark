{% macro toc(toc) %}
    <ul>
        {% for section in toc %}
            <li>
                <a href="#{{ section.id }}">{{ section.title }}</a>
                {% if section.children %}
                    {{ toc::toc(toc=section.children) }}
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% endmacro toc %}
